

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/con1.png">
  <link rel="icon" href="/img/con1.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="“无论最终结果将人类历史导向何处，我们决定选择希望”">
  <meta name="author" content="友人律 | Guilin Chang">
  <meta name="keywords" content="三差学生、不学无术">
  <meta name="description" content="随便写写123456789101112131415161718&#x2F;&#x2F;Top.vmodule htg_zrf8_top (  output  [3:0]  LED,  output         SI5341_CLK_RST_N,  output         SI5341_CLK_FDEC,  output         SI5341_CLK_FINC,  output         SI5">
<meta property="og:type" content="article">
<meta property="og:title" content="课题01">
<meta property="og:url" content="http://yoursite.com/202208281330/%E8%AF%BE%E9%A2%98/DBFessay/radar/%E8%AF%BE%E9%A2%98/index.html">
<meta property="og:site_name" content="友人律的博客">
<meta property="og:description" content="随便写写123456789101112131415161718&#x2F;&#x2F;Top.vmodule htg_zrf8_top (  output  [3:0]  LED,  output         SI5341_CLK_RST_N,  output         SI5341_CLK_FDEC,  output         SI5341_CLK_FINC,  output         SI5">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="c:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/image-20220831175626206.png">
<meta property="og:image" content="c:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/20ea79c513afb83bd9f5c831488e0c50.jpeg">
<meta property="og:image" content="c:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/contentFt-Calling-App=ft%252Fturnkey-portal&amp;Ft-Calling-App-Version=4.0.png">
<meta property="og:image" content="c:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/Memory_Map.jpg">
<meta property="article:published_time" content="2022-08-28T05:30:00.000Z">
<meta property="article:modified_time" content="2022-09-14T06:07:15.402Z">
<meta property="article:author" content="友人律 | Guilin Chang">
<meta property="article:tag" content="雷达">
<meta property="article:tag" content="DBF">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="c:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/image-20220831175626206.png">
  
  <title>课题01 - 友人律的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/stackoverflow-dark.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"eca4a4d34dadf0d4e282cc6ef2dc3de6","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body><!-- hexo injector body_begin start -->
<link defer rel="stylesheet" href="/css/article_para.css" />
<div id="web_bg"></div><!-- hexo injector body_begin end -->
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>友人律的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/%E9%80%9A%E7%9F%A5/">
                <i class="iconfont icon-link-fill"></i>
                通知
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/%E9%A1%B9%E7%9B%AE%E4%B8%8E%E8%AE%BE%E8%AE%A1/">
                <i class="iconfont icon-link-fill"></i>
                项目与设计
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">
                <i class="iconfont icon-link-fill"></i>
                开发工具
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/CS/">
                <i class="iconfont icon-link-fill"></i>
                CS
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/IC/">
                <i class="iconfont icon-link-fill"></i>
                IC
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/banner_img/anime/93302401_p0.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="课题01">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-08-28 13:30" pubdate>
        2022年8月28日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      5.6k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      17 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">课题01</h1>
            
            <div class="markdown-body">
              <h2><span id="随便写写">随便写写</span></h2><figure class="highlight verilog"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs verilog"><span class="hljs-comment">//Top.v</span><br><span class="hljs-keyword">module</span> htg_zrf8_top (<br><br>  <span class="hljs-keyword">output</span>  [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]  LED,<br>  <span class="hljs-keyword">output</span>         SI5341_CLK_RST_N,<br>  <span class="hljs-keyword">output</span>         SI5341_CLK_FDEC,<br>  <span class="hljs-keyword">output</span>         SI5341_CLK_FINC,<br>  <span class="hljs-keyword">output</span>         SI5341_CLK_SYNC_N,<br>  <span class="hljs-keyword">input</span>          SI5341_CLK_LOL_N,<br>  <span class="hljs-keyword">input</span>          SI5341_CLK_INTR_N,<br>  <span class="hljs-keyword">inout</span>          I2C_SDA_PL,<span class="hljs-comment">//iic</span><br>  <span class="hljs-keyword">output</span>         I2C_SCL_PL,<span class="hljs-comment">//iic</span><br>  <span class="hljs-keyword">output</span>         I2C_RST_N_PL,<span class="hljs-comment">//iic assign I2C_RST_N_PL      = si5341_out[4] ;</span><br><br>  <span class="hljs-keyword">input</span>          RF_PLL_MUXOUT_I ,<span class="hljs-comment">//spi</span><br>  <span class="hljs-keyword">output</span>         RF_PLL_SDI_O    ,<span class="hljs-comment">//spi</span><br>  <span class="hljs-keyword">output</span>         RF_PLL_SCK_O    ,<span class="hljs-comment">//spi</span><br>  <span class="hljs-keyword">output</span>         RF_PLL_CSB_O    ,<span class="hljs-comment">//spi</span><br></code></pre></div></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs verilog">mb_sys_mgr_wrapper mb_sys_mgr_i<br>(<br>    <span class="hljs-variable">.IIC_SCL</span>         ( I2C_SCL_PL      ),<span class="hljs-comment">//iic</span><br>    <span class="hljs-variable">.IIC_SDA</span>         ( I2C_SDA_PL      ),<span class="hljs-comment">//iic</span><br>    <span class="hljs-variable">.PL_UART_rxd</span>     ( PL_UART_RxD     ),<br>    <span class="hljs-variable">.PL_UART_txd</span>     ( PL_UART_TxD     ),<br>    <span class="hljs-variable">.rf_pll_csb_o</span>    ( RF_PLL_CSB_O    ),<span class="hljs-comment">//spi</span><br>    <span class="hljs-variable">.rf_pll_muxout_i</span> ( RF_PLL_MUXOUT_I ),<span class="hljs-comment">//spi</span><br>    <span class="hljs-variable">.rf_pll_sck_o</span>    ( RF_PLL_SCK_O    ),<span class="hljs-comment">//spi</span><br>    <span class="hljs-variable">.rf_pll_sdi_o</span>    ( RF_PLL_SDI_O    ),<span class="hljs-comment">//spi</span><br>    <span class="hljs-variable">.si5341_out</span>      ( si5341_out      )<br>);<br><br><span class="hljs-keyword">assign</span> SI5341_CLK_RST_N  = si5341_out[<span class="hljs-number">0</span>] ;<br><span class="hljs-keyword">assign</span> SI5341_CLK_FDEC   = si5341_out[<span class="hljs-number">1</span>] ;<br><span class="hljs-keyword">assign</span> SI5341_CLK_FINC   = si5341_out[<span class="hljs-number">2</span>] ;<br><span class="hljs-keyword">assign</span> SI5341_CLK_SYNC_N = si5341_out[<span class="hljs-number">3</span>] ;<br><span class="hljs-keyword">assign</span> I2C_RST_N_PL      = si5341_out[<span class="hljs-number">4</span>] ;<br></code></pre></div></td></tr></table></figure>
<h3><span id="iic">iic</span></h3><ul>
<li>MYIR-ZYNQ7000系列-zturn教程(22)：用axi_iic对24C32进行读写<a target="_blank" rel="noopener" href="https://blog.csdn.net/taowei1314520/article/details/85232219">https://blog.csdn.net/taowei1314520/article/details/85232219</a></li>
</ul>
<h2><span id="bugs">bugs</span></h2><h3><span id="vitis">vitis</span></h3><h4><span id="1-microblaze直接run-as程序出错no-targets-found-with-name-~-microblaze0-amp-bscan">1) microblaze直接run as程序出错：no targets found with “name = ~ “<em>microblaze</em>#0” &amp; bscan</span></h4><p>microblaze没有JTAG接口</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://support.xilinx.com/s/question/0D52E00006hpcnRSAQ/xilinx-sdk-20164-system-debugger-no-target-found-i-am-using-7030-block-design-has-zynq-and-microblaze?language=en_US">https://support.xilinx.com/s/question/0D52E00006hpcnRSAQ/xilinx-sdk-20164-system-debugger-no-target-found-i-am-using-7030-block-design-has-zynq-and-microblaze?language=en_US</a></p>
</blockquote>
<h4><span id="2-如何正确运行mb程序基于htg-zrf8">2) 如何正确运行mb程序(基于HTG-ZRF8)</span></h4><p>步骤：</p>
<ul>
<li>导出xsa</li>
<li>Vitis Create Platform(如果直接Create App会导致之后再在该Workplace中添加app project时找不到platform)</li>
<li>编译platform</li>
<li>create mb程序并编译</li>
<li>program FPGA，并把mb程序替换为上面mb project生成的elf文件</li>
<li>program FPGA后就会出现hello world</li>
</ul>
<p><img src="C:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/image-20220831175626206.png" srcset="/img/loading.gif" lazyload alt="image-20220831175626206"></p>
<blockquote>
<p>补充，使用jtag进行mb调试的步骤：</p>
<ul>
<li>导出xsa</li>
<li>Vitis Create Platform(如果直接Create App会导致之后再在该Workplace中添加app project时找不到platform)</li>
<li>编译platform</li>
<li>create mb程序并编译</li>
<li>program FPGA，并把mb程序替换为上面mb project生成的elf文件<ul>
<li>这一步进行比特流加载</li>
</ul>
</li>
<li>右键mb project，run as hardware<ul>
<li>这一步进行程序烧录</li>
</ul>
</li>
</ul>
</blockquote>
<h4><span id="3-fsbl">3) fsbl</span></h4><p>修改调试宏定义FSBL_DEBUG_INFO_VAL，可以在启动输出FSBL的一些状态信息，有利于调试，但是会导致启动时间变长。保存文件。可以看一下fsbl里包含了很多外设的文件，包括psu_init.c，qspi，sd等，大家可以再仔细读读代码。当然这个fsbl模板也是可以修改的，至于怎么修改根据自己的需求来做</p>
<p><img src="C:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/20ea79c513afb83bd9f5c831488e0c50.jpeg" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_53439615/article/details/112887420">https://blog.csdn.net/m0_53439615/article/details/112887420</a> </p>
</blockquote>
<h4><span id="4-zynq-ultrascale-mpsoc-software-developer-guide">4) <strong>Zynq UltraScale+ MPSoC Software Developer Guide</strong></span></h4><p><strong>Boot Flow</strong></p>
<p>There are two boot flows in the Zynq UltraScale+ MPSoC architecture: secure and non-secure. The following sections describe some of the example boot sequences in which you bring up various processors and execute the required boot tasks.</p>
<p><strong>Note:</strong> The figures in these sections show the complete boot flow, including all mandatory and optional components.</p>
<p><strong>Boot Flow Example</strong></p>
<p><img src="C:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/contentFt-Calling-App=ft%252Fturnkey-portal&amp;Ft-Calling-App-Version=4.0.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<hr>
<p>The QSPI boot mode supports the following:</p>
<p>QSPI 启动模式支持以下内容:</p>
<ul>
<li><p>x1, x2, and x4 read modes for single Quad SPI flash memory (QSPI24) and x8 for dual QSPI</p>
</li>
<li><p>Image search for MultiBoot </p>
</li>
<li><p>I/O mode is not supported in FSBL</p>
</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/Boot-Modes?tocId=5pKZlst3escWfBAZ9y0tTw">https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/Boot-Modes?tocId=5pKZlst3escWfBAZ9y0tTw</a></p>
</blockquote>
<hr>
<p>The SD boot supported version is 3.0. This version supports:</p>
<ul>
<li>FAT 16/32 file systems for reading the boot images.</li>
<li>Image search for MultiBoot. The maximum number of searchable files as part of an image search for MultiBoot is 8,191.</li>
</ul>
<p>For additional information, see <a target="_blank" rel="noopener" href="https://docs.xilinx.com/r/74ZYnXRq54uDHJxDDOafAg/vbg9kzRrfsAivMcHhJfUBw">SD Boot Mode</a>.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/Boot-Modes?tocId=5pKZlst3escWfBAZ9y0tTw">https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/Boot-Modes?tocId=5pKZlst3escWfBAZ9y0tTw</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/SD-Boot-Mode">https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/SD-Boot-Mode</a></p>
</blockquote>
<h4><span id="5-xilinx-embedded-design-tutorials">5) Xilinx Embedded-Design-Tutorials</span></h4><p><strong>Boot Sequence for SD-Boot</strong></p>
<p><a target="_blank" rel="noopener" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2022.1/build/html/docs/Introduction/ZynqMPSoC-EDT/8-boot-and-configuration.html?highlight=sd%20card">https://xilinx.github.io/Embedded-Design-Tutorials/docs/2022.1/build/html/docs/Introduction/ZynqMPSoC-EDT/8-boot-and-configuration.html?highlight=sd%20card</a></p>
<h4><span id="6sd-ls">6)sd-ls</span></h4><p>SD1(LS): The SD1-LS boot mode is the same as SD0/SD1 with additional support of the SD 3.0 (with an SD 3.0 compliant voltage level shifter).</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://xilinx.eetrend.com/content/2019/100017163.html">http://xilinx.eetrend.com/content/2019/100017163.html</a></p>
</blockquote>
<p>sdio_cd_n</p>
<p>Card detection for single slot</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.xilinx.com/content/dam/xilinx/support/documents/ip_documentation/zynq_ultra_ps_e/v3_0/pg201-zynq-ultrascale-plus-processing-system.pdf">https://www.xilinx.com/content/dam/xilinx/support/documents/ip_documentation/zynq_ultra_ps_e/v3_0/pg201-zynq-ultrascale-plus-processing-system.pdf</a></p>
</blockquote>
<h4><span id="7flash">7）Flash</span></h4><p>FSBL Build Process</p>
<p>After authenticating and/or decrypting, the FSBL is loaded into OCM and handed off by the CSU bootROM. First Stage Boot Loader configures the FPGA with a bitstream (if it exists) and loads the Standalone (SA) Image or Second Stage Boot Loader image from the non-volatile memory (NAND/SD/eMMC/QSPI) to RAM(DDR/TCM/OCM). It takes the Cortex-R5F-0/R5F-1 processor or the Cortex-A53 processor unit out of reset. It supports multiple partitions. Each partition can be a code image or a bitstream. Each of these partitions, if required, will be authenticated and/or decrypted.</p>
<p><strong>Note:</strong> If you are creating a custom FSBL, you should be aware that the OCM size is 256 KB and is available to CSU bootROM. The FSBL size is close to 170 KB and it would fit in the OCM. While using the USB boot mode, you should make sure that the PMU firmware is loaded by the FSBL and not by the CSU bootROM. This is because the size of boot.bin loaded by the CSU bootROM should be less than 256 KB.</p>
<p>在验证和/或解密之后，FSBL 被加载到 OCM 中，并由 CSU 引导 ROM 传递。第一阶段引导加载程序将 FPGA 配置为一个比特流(如果存在的话) ，并将独立(SA)映像或第二阶段引导加载程序映像从非挥发性记忆体(nAND/SD/eMMC/QSPI)加载到 RAM (DDR/TCM/OCM)。它取消了 Cortex-R5F-0/R5F-1处理器或 Cortex-A53处理器单元的重置。它支持多个分区。每个分区可以是代码图像或位流。如果需要，这些分区中的每一个都将进行身份验证和/或解密。</p>
<p>注意: 如果您正在创建一个自定义 FSBL，您应该知道 OCM 大小是256 KB，并且可用于 CSU 引导 ROM。FSBL 的大小接近170 KB，它将适合在 OCM。在使用 USB 引导模式时，您应该确保 PMU 固件是由 FSBL 加载的，而不是由 CSU 引导 ROM 加载的。这是因为 CSU bootROM 加载的 boot.bin 的大小应该小于256 KB。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/Fallback-and-MultiBoot-Flow">https://docs.xilinx.com/r/en-US/ug1137-zynq-ultrascale-mpsoc-swdev/Fallback-and-MultiBoot-Flow</a></p>
</blockquote>
<p><strong>1.3 Memory Map, Boot flow and Reference Applications</strong></p>
<p>This tech-tip describes the Boot flow of Zynq -7000 series platforms and provide details on application pre-loading in to L2 cache, locking it, and executing application out of L2 cache. It covers both C, and Cpp based application for demonstration.<br><strong>QSPI Flash Memory Map:</strong><br>Quad-SPI linear address space of 16MB with address range FC00_0000 to FDFF_FFFF. Which can be used for execute in place option (XIP). FSBL uses this option in the reference design to execute the FSBL.</p>
<p><strong>OCM Memory Map:</strong><br>Zynq-7000 series platform has On-chip memory of 256KB, default address range at 0000_0000 to 0003_FFFF of 192kB and FFFC_0000 to FFFF_FFFF of 64KB.</p>
<p><img src="C:/Users/Public/Documents/GitHub/blog-code/source/_posts/essay/radar/%E8%AF%BE%E9%A2%98/Memory_Map.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842377/Zynq-7000+AP+SoC+Boot+-+Booting+and+Running+Without+External+Memory+Tech+Tip">https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842377/Zynq-7000+AP+SoC+Boot+-+Booting+and+Running+Without+External+Memory+Tech+Tip</a></p>
</blockquote>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AF%BE%E9%A2%98/">课题</a>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AF%BE%E9%A2%98/DBF/">DBF</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E9%9B%B7%E8%BE%BE/">雷达</a>
                    
                      <a class="hover-with-bg" href="/tags/DBF/">DBF</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/202208301459/IC/%E7%9F%A5%E8%AF%86essay/ic/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/verilogsv%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Verilog|SystemVerilog代码风格</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/202208181544/IC/%E7%90%86%E8%AE%BA/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86essay/ic/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/%E5%BC%82%E6%AD%A5%E5%A4%8D%E4%BD%8D%E5%90%8C%E6%AD%A5%E9%87%8A%E6%94%BE%E7%94%B5%E8%B7%AF%E7%9A%84%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A/">
                        <span class="hidden-mobile">异步复位和同步释放电路的详细解释</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'preferred-color-scheme';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'GreensCH/commitutterances');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <span> | </span> <a href="https://weibo.com/u/7453939976" target="_blank" rel="nofollow noopener"> Green Weibo</a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  





  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>




  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?eca4a4d34dadf0d4e282cc6ef2dc3de6";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script>
  <link defer rel="stylesheet" href="/css/backgroundize.css" />
  
  <div id="aplayer" style="width:300px"></div>
  <link defer rel="stylesheet" href="https://cdn.staticfile.org/aplayer/1.10.1/APlayer.min.css" />
  <script src="https://cdn.staticfile.org/aplayer/1.10.1/APlayer.min.js"></script>
  <script defer src="/js/aplayer.js"></script><script src="/js/githubcalendar.js"></script> 
  <script data-pjax src="/js/githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://python-github-calendar-api.vercel.app/api?greensch";
            var git_color =['#ebedf0', '#f0fff4', '#dcffe4', '#bef5cb', '#85e89d', '#34d058', '#28a745', '#22863a', '#176f2c', '#165c26', '#144620'];
            var git_user ="greensch";
            var parent_div_git = document.getElementById('board');
            var git_div_html = '<div id="github-calendar" style="width:100%;height:auto;padding:10px;margin-bottom:20px;box-shadow:none;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/'){
                console.log('已挂载github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // 有报错，但不影响使用(支持pjax跳转)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('board')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:200px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style>#github_container > .position-relative > .border{border:0!important}#github-calendar{position: relative;margin-top: -2rem;background-color: var(--board-bg-color);transition: background-color 0.2s ease-in-out;border-radius: 0.5rem;z-index: 3;-webkit-box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);}</style><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"superSample":1,"position":"left","width":150,"height":400,"vOffset":-18},"mobile":{"show":true,"scale":0.25},"dialog":{"enable":false,"hitokoto":true,"width":10,"height":10,"vOffset":-100},"log":false});</script></body>
</html>
